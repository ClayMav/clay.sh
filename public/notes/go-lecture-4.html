

<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="if/elsepackage mainimport (  "fmt"  "math")func main() {  x, y := 2, 1  // The condition must be a bool!  /// If it's not, it's a compiler error.  if x &gt; ...">
  <meta name="keywords" content="Programming, Python, C++, Programmer, Golang, Data, Education, and Student">
  <meta name="author" content="Go Lecture 4 | Clay McGinnis">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f5">

  <!-- Twitter Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Go Lecture 4 | Clay McGinnis">
  <meta name="twitter:description" content="if/elsepackage mainimport (  "fmt"  "math")func main() {  x, y := 2, 1  // The condition must be a bool!  /// If it's not, it's a compiler error.  if x &gt; ...">
  <meta name="twitter:image" content="https://claymav.com/img/clay.png">

  <!-- Open Graph Tags -->
  <meta property="og:type" content="blog">
  <meta property="og:url" content="https://claymav.com">
  <meta property="og:title" content="Go Lecture 4 | Clay McGinnis">
  <meta property="og:description" content="if/elsepackage mainimport (  "fmt"  "math")func main() {  x, y := 2, 1  // The condition must be a bool!  /// If it's not, it's a compiler error.  if x &gt; ...">
  <meta property="og:image" content="https://claymav.com/img/clay.png">
  <title>Go Lecture 4 | Clay McGinnis</title>

  <!-- CSS files -->
  <link rel="stylesheet" href="https://claymav.com/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://claymav.com/css/main.css">
  <link rel="stylesheet" href="https://claymav.com/css/animations.css">

  <link rel="canonical" href="https://claymav.com/notes/go-lecture-4">
  <link rel="alternate" type="application/rss+xml" title="Clay McGinnis" href="https://claymav.com /feed.xml " />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="https://claymav.com/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="https://claymav.com/favicon.png">
</head>


<body id="body">
  <nav>
    <div class="nav-wrapper">
      <ul class="nav___list">
        <li class="nav___item">
          <a href="https://claymav.com">Home</a>
        </li>
           
        <li class="nav___item">
          <a  href="https://claymav.com/about/">About</a>
        </li>
                      
        <li class="nav___item">
          <a  href="https://claymav.com/notes/">Notes</a>
        </li>
          
        <li class="nav___item">
          <a  href="https://claymav.com/resume/">Resume</a>
        </li>
           
      </ul>
      <script type="text/javascript">
  // based on http://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    <li><a href="http://github.com/claymav" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li> 
    <li><a href="http://linkedin.com/in/claymav" class="social-link-item" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a></li>
    
      <li>
      <script>gen_mail_to_link('mcginnis@claymav.com');</script>
      </li>
    
    <li><a href="http://twitter.com/ClayMcGinnis" class="social-link-item" target="_blank"><i class="fa fa-fw fa-twitter"></i></a></li>
    
    
   
    
    
   
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

    </div>
  </nav>
  <div class="page-wrapper">
    <!--<div class="color-bar"></div>-->
    <main>
      <div class="content-wrapper">
        <h1 class="note___title">Go - if/else, switch, Loops, I/O, and Functions</h1>
<h6 class="note___meta">Contemporary Programming Languages - CS2001 - 2 November 2017</h6>
<hr>

<div class="note">
  <h3 id="ifelse">if/else</h3>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
  </span><span class="s">"fmt"</span><span class="x">
  </span><span class="s">"math"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">x</span><span class="p">,</span><span class="x"> </span><span class="n">y</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">2</span><span class="p">,</span><span class="x"> </span><span class="m">1</span><span class="x">

  </span><span class="c">// The condition must be a bool!</span><span class="x">
  </span><span class="c">/// If it's not, it's a compiler error.</span><span class="x">
  </span><span class="k">if</span><span class="x"> </span><span class="n">x</span><span class="x"> </span><span class="o">&gt;</span><span class="x"> </span><span class="n">y</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Yay"</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">

  </span><span class="n">a</span><span class="p">,</span><span class="x"> </span><span class="n">b</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">1</span><span class="p">,</span><span class="x"> </span><span class="m">2</span><span class="x">
  </span><span class="k">if</span><span class="x"> </span><span class="n">a</span><span class="x"> </span><span class="o">==</span><span class="x"> </span><span class="n">b</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Equal"</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Not equal"</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">

  </span><span class="n">myString</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"submarine"</span><span class="x">
  </span><span class="k">if</span><span class="x"> </span><span class="n">myString</span><span class="x"> </span><span class="o">==</span><span class="x"> </span><span class="s">"frog"</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Yay!"</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="k">if</span><span class="x"> </span><span class="n">myString</span><span class="x"> </span><span class="o">==</span><span class="x"> </span><span class="s">"submarine"</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Meh"</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">

  </span><span class="k">if</span><span class="x"> </span><span class="n">val</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">math</span><span class="o">.</span><span class="n">Floor</span><span class="p">(</span><span class="m">12.5</span><span class="p">);</span><span class="x"> </span><span class="n">val</span><span class="x"> </span><span class="o">&gt;</span><span class="x"> </span><span class="m">10</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="c">// We can only access val in here</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">val</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">
  </span><span class="c">// Can't access val anymore!</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<h3 id="switch-case">switch case</h3>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="s">"fmt"</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">f</span><span class="p">()</span><span class="x"> </span><span class="kt">int</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"f!"</span><span class="p">)</span><span class="x">
  </span><span class="k">return</span><span class="x"> </span><span class="m">1</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">getFavoriteThing</span><span class="p">()</span><span class="x"> </span><span class="kt">string</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="k">return</span><span class="x"> </span><span class="s">"cookies"</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

  </span><span class="c">////////////////////////////////</span><span class="x">
  </span><span class="c">// A basic switch</span><span class="x">
  </span><span class="c">////////////////////////////////</span><span class="x">

  </span><span class="n">animal</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"pony"</span><span class="x">
  </span><span class="k">switch</span><span class="x"> </span><span class="n">animal</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="k">case</span><span class="x"> </span><span class="s">"frog"</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Ribbit"</span><span class="p">)</span><span class="x">
  </span><span class="k">case</span><span class="x"> </span><span class="s">"pony"</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Neigh"</span><span class="p">)</span><span class="x">
    </span><span class="k">fallthrough</span><span class="x"> </span><span class="c">// We use fallthrough to fall through to the next case</span><span class="x">
  </span><span class="k">case</span><span class="x"> </span><span class="s">"dog"</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Bark"</span><span class="p">)</span><span class="x">
  </span><span class="k">default</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Noise"</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">

  </span><span class="c">///////////////////////////////</span><span class="x">
  </span><span class="c">// Using a simple statement</span><span class="x">
  </span><span class="c">///////////////////////////////</span><span class="x">

  </span><span class="k">switch</span><span class="x"> </span><span class="n">fave</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">getFavoriteThing</span><span class="p">();</span><span class="x"> </span><span class="n">fave</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="k">case</span><span class="x"> </span><span class="s">"cookies"</span><span class="o">:</span><span class="x">
    </span><span class="c">// We have access to fave in the switch</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">fave</span><span class="p">)</span><span class="x">
  </span><span class="k">default</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"WRONG! Should have been %s"</span><span class="p">,</span><span class="x"> </span><span class="n">fave</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">
  </span><span class="c">// We no longer have access to fave out here.</span><span class="x">

  </span><span class="c">///////////////////////////////</span><span class="x">
  </span><span class="c">// You can make function calls in your cases...</span><span class="x">
  </span><span class="c">// As long as the types agree</span><span class="x">
  </span><span class="c">///////////////////////////////</span><span class="x">

  </span><span class="n">i</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">1</span><span class="x">
  </span><span class="k">switch</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="k">case</span><span class="x"> </span><span class="m">0</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Case 0"</span><span class="p">)</span><span class="x">
  </span><span class="k">case</span><span class="x"> </span><span class="n">f</span><span class="p">()</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Case f()"</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">

  </span><span class="c">/////////////////////////////</span><span class="x">
  </span><span class="c">// By default, a switch will switch on true.</span><span class="x">
  </span><span class="c">// This is an idiomatic alternative to a big if-else chain.</span><span class="x">
  </span><span class="c">/////////////////////////////</span><span class="x">

  </span><span class="n">x</span><span class="p">,</span><span class="x"> </span><span class="n">y</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">42</span><span class="p">,</span><span class="x"> </span><span class="m">42</span><span class="x">
  </span><span class="k">switch</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="k">case</span><span class="x"> </span><span class="n">x</span><span class="x"> </span><span class="o">&gt;</span><span class="x"> </span><span class="n">y</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Case x &gt; y"</span><span class="p">)</span><span class="x">
  </span><span class="k">case</span><span class="x"> </span><span class="n">x</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="n">y</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Case x &lt; y"</span><span class="p">)</span><span class="x">
  </span><span class="k">default</span><span class="o">:</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Case x == y"</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<h3 id="looping">Looping</h3>
<ul>
  <li>There is only for.</li>
  <li>Counting loop
    <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">acc</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">1</span><span class="x">
</span><span class="k">for</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">0</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">10</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="o">++</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">acc</span><span class="x"> </span><span class="o">+=</span><span class="x"> </span><span class="n">i</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div>    </div>
  </li>
  <li>Sentinal loop
    <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="x"> </span><span class="n">x</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">100</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="c">// stuff</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div>    </div>
  </li>
  <li>Infinite Loop
    <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="c">// stuff</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div>    </div>
  </li>
  <li>Range
    <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">animals</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="kt">string</span><span class="x"> </span><span class="p">{</span><span class="s">"frog"</span><span class="p">,</span><span class="x"> </span><span class="s">"giraffe"</span><span class="p">,</span><span class="x"> </span><span class="s">"submarine"</span><span class="p">}</span><span class="x">
</span><span class="k">for</span><span class="x"> </span><span class="n">index</span><span class="p">,</span><span class="x"> </span><span class="n">element</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">range</span><span class="x"> </span><span class="n">animals</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="x"> </span><span class="n">element</span><span class="p">)</span><span class="x"> </span><span class="c">// 0 frog 1 giraffe 2 submarine</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div>    </div>
    <ul>
      <li>Index only
        <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="x"> </span><span class="n">index</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">range</span><span class="x"> </span><span class="n">animals</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div>        </div>
      </li>
      <li>Element only
        <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="x"> </span><span class="n">_</span><span class="p">,</span><span class="x"> </span><span class="n">element</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">range</span><span class="x"> </span><span class="n">animals</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h3 id="reading-files">Reading Files</h3>
<ul>
  <li>There are seeral ways to read files in Go</li>
  <li>Choice depends on your application</li>
</ul>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">
</span><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="s">"fmt"</span><span class="x">
  </span><span class="s">"io/ioutil"</span><span class="x">
  </span><span class="s">"os"</span><span class="x">
</span><span class="p">)</span><span class="x">
</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">contents</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadFile</span><span class="p">(</span><span class="s">"file.txt"</span><span class="p">)</span><span class="x">
  </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
    </span><span class="n">os</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">contents</span><span class="p">))</span><span class="x"> </span><span class="c">// contents is slice of byte</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<h3 id="functions">Functions</h3>
<ul>
  <li>Functions can take zero or more args</li>
  <li>Types come after the variable names</li>
  <li>Return type comes at the end</li>
  <li>Arguments are pass by value</li>
</ul>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"fmt"</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="x"> </span><span class="kt">int</span><span class="p">,</span><span class="x"> </span><span class="n">y</span><span class="x"> </span><span class="kt">int</span><span class="p">)</span><span class="x"> </span><span class="kt">int</span><span class="x"> </span><span class="p">{</span><span class="x"> </span><span class="c">// can also be func add (x, y int) int {}</span><span class="x">
  </span><span class="k">return</span><span class="x"> </span><span class="n">x</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="n">y</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">5</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>
<ul>
  <li>Multiple results
    <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span><span class="x"> </span><span class="n">swap</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="x"> </span><span class="n">y</span><span class="x"> </span><span class="kt">string</span><span class="p">)</span><span class="x"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="x"> </span><span class="kt">string</span><span class="p">)</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="k">return</span><span class="x"> </span><span class="n">y</span><span class="p">,</span><span class="x"> </span><span class="n">x</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">a</span><span class="p">,</span><span class="x"> </span><span class="n">b</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">swap</span><span class="p">(</span><span class="s">"hello"</span><span class="p">,</span><span class="x"> </span><span class="s">"world"</span><span class="p">)</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="x"> </span><span class="n">b</span><span class="p">)</span><span class="x"> </span><span class="c">// world hello</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div>    </div>
  </li>
  <li>Named Results
    <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span><span class="x"> </span><span class="n">f</span><span class="p">(</span><span class="n">val</span><span class="x"> </span><span class="kt">int</span><span class="p">)</span><span class="x"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="x"> </span><span class="n">y</span><span class="x"> </span><span class="kt">int</span><span class="p">)</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">x</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">val</span><span class="x"> </span><span class="o">*</span><span class="x"> </span><span class="m">4</span><span class="x"> </span><span class="o">/</span><span class="x"> </span><span class="m">9</span><span class="x">
  </span><span class="n">y</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">val</span><span class="x"> </span><span class="o">-</span><span class="x"> </span><span class="n">x</span><span class="x">
  </span><span class="k">return</span><span class="x"> </span><span class="c">// naked return, if not done, compiler error</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div>    </div>
  </li>
  <li><strong>Defer</strong>
    <ul>
      <li>A defer statement defers/ puts off the execution of a function until the surrounding function returns</li>
      <li>The deferred calls arguments are evaluated immediately, but the function call is not executed until the surrounding function returns</li>
    </ul>

    <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="k">defer</span><span class="x"> </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"world"</span><span class="p">)</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"hello"</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span><span class="c">// Outputs hello immediately</span><span class="x">
</span><span class="c">// Outputs world after main() ends</span><span class="x">
</span></code></pre></div>    </div>
    <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span><span class="x"> </span><span class="n">f</span><span class="p">()</span><span class="x"> </span><span class="kt">string</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Beep"</span><span class="p">)</span><span class="x">
  </span><span class="k">return</span><span class="x"> </span><span class="s">"world"</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="k">defer</span><span class="x"> </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">f</span><span class="p">())</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"hello"</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span><span class="c">/* Output
     Beep
     hello
     world */</span><span class="x">
</span></code></pre></div>    </div>
    <ul>
      <li>Stacking Defers
        <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"counting"</span><span class="p">)</span><span class="x">
  </span><span class="k">for</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">0</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">10</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="o">++</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="k">defer</span><span class="x"> </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">
  </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"done"</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span><span class="c">/* Output
     counting
     done
     9
     8
     7
     6
     5
     4
     3
     2
     1
     0 */</span><span class="x">
</span></code></pre></div>        </div>
        <ul>
          <li>Realistic example
            <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">tempfile</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">TempFile</span><span class="p">(</span><span class="s">""</span><span class="p">,</span><span class="x"> </span><span class="s">"example"</span><span class="p">)</span><span class="x">
  </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">
  </span><span class="k">defer</span><span class="x"> </span><span class="n">os</span><span class="o">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">Name</span><span class="p">())</span><span class="x">
  </span><span class="c">// Use tempfile here</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div>            </div>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="map">Map</h3>
<ul>
  <li>Maps keys to values</li>
  <li>Kind of like a dictionary in Python</li>
  <li>Zero value is nil</li>
  <li>Cannot set or get values from nil</li>
  <li>len() will give the number of items (key/value pairs) in the map</li>
  <li>cap() doesn’t work</li>
</ul>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span><span class="x"> </span><span class="n">sounds</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="x">
</span><span class="n">sounds</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span><span class="x">
</span><span class="n">weights</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">float64</span><span class="p">)</span><span class="x">

</span><span class="n">sounds</span><span class="p">[</span><span class="s">"frog"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"ribbit"</span><span class="x">
</span><span class="n">weights</span><span class="p">[</span><span class="s">"frog"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="m">2.4</span><span class="x">

</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span><span class="x"> </span><span class="c">// map[frog: 2.4]</span><span class="x">
</span></code></pre></div></div>
<ul>
  <li>Map Literals
    <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">counts</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="x"> </span><span class="p">{</span><span class="s">"frog"</span><span class="o">:</span><span class="x"> </span><span class="m">2</span><span class="p">,</span><span class="x"> </span><span class="s">"submarine"</span><span class="o">:</span><span class="x"> </span><span class="m">1</span><span class="p">}</span><span class="x">
</span><span class="n">names</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="s">"frog"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="x"> </span><span class="p">{</span><span class="s">"jim"</span><span class="p">,</span><span class="x"> </span><span class="s">"fred"</span><span class="p">},</span><span class="x">
  </span><span class="s">"submarine"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="x"> </span><span class="p">{</span><span class="s">"bob"</span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">names</span><span class="p">[</span><span class="s">"frog"</span><span class="p">]</span><span class="x"> </span><span class="c">// {"jim", "fred"}</span><span class="x">
</span><span class="n">names</span><span class="p">[</span><span class="s">"cat"</span><span class="p">]</span><span class="x"> </span><span class="c">// nil (zero value for []string)</span><span class="x">
</span></code></pre></div>    </div>
  </li>
</ul>

</div>

      </div>
      <footer>
  &copy; 2018 Clay McGinnis. Powered by <a href="http://jekyllrb.com/">Jekyll</a> made with <i class="fa fa-heart heart-icon"></i>
</footer>

    </main>
  </div>

  <script src="https://claymav.com/js/jquery-3.2.1.min.js" type="text/javascript"></script>
<script type="text/javascript" src="https://claymav.com/js/page.js"></script>
<script type="text/javascript" src="https://claymav.com/js/typed.min.js"></script>


</body>
</html>
